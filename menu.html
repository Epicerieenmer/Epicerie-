<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">
    <title>√âpicerie en Mer</title>
    <meta property="og:title" content="√âpicerie en Mer ‚öì">
<meta property="og:description" content="Commandez vos boissons, snacks et mat√©riel de p√™che depuis votre bateau !">
<meta property="og:image" content="logo.png">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

<!-- Cronitor RUM -->
<script async src="https://rum.cronitor.io/script.js"></script>
<script>
    window.cronitor = window.cronitor || function() { (window.cronitor.q = window.cronitor.q || []).push(arguments); };
    cronitor('config', { clientKey: 'b2a0267b201304d2cffe170ce507fc3c' });
</script>


    <link rel="icon" href="https://fav.farm/‚öì">
    <link href="https://fonts.googleapis.com/css2?family=Fredoka+One&family=Patrick+Hand&display=swap" rel="stylesheet">
    
    <style>
        
        /* Pour CACHER : Enl√®ve les // devant les deux lignes ci-dessous */
/* Pour AFFICHER : Ajoute les // devant les deux lignes ci-dessous */

 .controls-quantite button, .controls-quantite span[id^="qte-"] { display: none !important; }
 .banderole-promo { display: none !important; }


/* ========================================================== */

        /* --- CONFIGURATION G√âN√âRALE --- */
        html { scroll-behavior: smooth; }
        
      
.btn-retour-discret {
    position: absolute;
    top: 15px;
    left: 15px;
    display: inline-flex; /* Aligne les enfants en ligne */
    align-items: center;  /* Aligne verticalement au centre */
    justify-content: center;
    gap: 5px;
    padding: 5px 12px;
    background: rgba(255, 255, 255, 0.4);
    backdrop-filter: blur(5px);
    -webkit-backdrop-filter: blur(5px);
    border: 1.5px solid #0c4a6e;
    border-radius: 30px;
    text-decoration: none;
    color: #0c4a6e !important;
    font-family: 'Fredoka One', cursive;
    font-size: 0.75rem;
    z-index: 2000;
}

.btn-retour-discret .fleche {
    font-size: 1.1rem; /* Un peu plus grande pour l'√©quilibre */
    display: flex;
    align-items: center;
    transform: translateY(-3px); 
    line-height: 0; /* Annule la hauteur de ligne par d√©faut */
}

.btn-retour-discret .label {
    display: flex;
    align-items: center;
    line-height: 1; /* Force le texte √† ne pas prendre de place inutile en haut/bas */
}


/* Ajustement du logo pour √©viter la superposition */
@media (max-width: 600px) {
    .logo-container {
        margin-top: 50px !important;
    }
}


      
.banderole-promo {
    width: 100%;
    background-color: #ffd600; /* Jaune vif */
    color: #0c4a6e;
    overflow: hidden;
    white-space: nowrap;
    padding: 10px 0;
    font-family: 'Fredoka One', cursive;
    font-size: 1rem;
    box-shadow: 0 2px 10px rgba(0,0,0,0.1);
    position: relative;
    z-index: 2000; /* Devant tout le reste */
    border-radius: 50px;
}

.defilement {
    display: inline-block;
    padding-left: 100%;
    animation: defilement-promo 20s linear infinite;
}

.defilement span {
    padding-right: 50px; /* Espace entre les messages */
}

@keyframes defilement-promo {
    0% { transform: translateX(0); }
    100% { transform: translateX(-100%); }
}

.header-titre {
    text-align: center;
    width: 100%;
    margin-bottom: 20px;
    position: relative;
    z-index: 10;
}

.localisation {
    font-size: 1.2rem;
    color: #d84315; /* Un orange/rouge pour rappeler les balises ou le sable */
    font-weight: bold;
    margin: -5px 0 10px 0; /* On le colle un peu au titre */
    text-shadow: 1px 1px 2px white;
    font-family: 'Patrick Hand', cursive;
}

.slogan {
    font-size: 1.4rem;
    color: #0c4a6e;
    margin-top: 0;
}


      
        body {
            margin: 0;
            padding: 20px;
            font-family: 'Patrick Hand', cursive;
            display: flex;
            flex-direction: column;
            align-items: center;
            min-height: 100vh;
            overflow-x: hidden;
            background-color: #e0f7fa; /* Fond ciel */
            position: relative;
            z-index: 0;
              }
              
        /* --- SYST√àME DE VAGUES R√âPARTIES (BAS ET MILIEU) --- */
        .ocean {
            position: fixed;
            width: 100%;
            height: 100%;
            top: 0;
            left: 0;
            z-index: -1;
            pointer-events: none;
        }

        .vague-calque {
            position: absolute;
            width: 250vw;
            height: 250vw;
            left: -75vw;
            opacity: 0.25;
            border-radius: 43%;
        }

        /* Vague 1 : La plus bas (Rose) - S'arr√™te vers le haut */
        .v1 {
            background: linear-gradient(135deg, #f8bbd0, #f48fb1);
            top: -130vw; /* Elle descend pour lib√©rer le haut de l'√©cran */
            animation: derive 20s infinite linear;
            opacity: 0.45;
        }

        /* Vague 2 : Milieu (Vert) */
        .v2 {
            background: linear-gradient(135deg, #b2dfdb, #80cbc4);
            top: -160vw; 
            animation: derive 30s infinite reverse linear;
        }

        /* Vague 3 : Milieu haut (Bleu) */
        .v3 {
            background: linear-gradient(135deg, #b3e5fc, #81d4fa);
            top: -200vw; 
            animation: derive 25s infinite linear;
        }

        /* Vague 4 : Tout en haut (Turquoise) */
        .v4 {
            background: linear-gradient(135deg, #b2ebf2, #4dd0e1);
            top: -300vw; 
            animation: derive 35s infinite reverse linear;
        }

        @keyframes derive {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }


                .nav-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 15px;
            width: 100%;
            max-width: 800px;
            
            /* --- CONFIGURATION STICKY --- */
            position: sticky;
            top: 0;
            z-index: 1000;
            padding: 20px 10px;
            margin-bottom: 30px;
            border-radius: 20px 20px 20px 20px;

            /* AU D√âPART : Totalement invisible */
            background: transparent;
            transition: background 0.3s ease;

            /* AU SCROLL : On active l'effet */
            animation: menu-effet-vagues linear both;
            animation-timeline: scroll();
            animation-range: 0px 250px;
        }

        @keyframes menu-effet-vagues {
            to {
                /* On utilise la m√™me couleur de fond que le ciel 
                   pour bloquer la vue des planches de bois */
                   background-color: rgba(224, 247, 250, 0.7); /* 0.7 permet de voir les vagues mais cache les planches */
backdrop-filter: blur(5px); /* Floute les planches qui passent dessous pour qu'on ne voit que les vagues */
                box-shadow: 0 10px 20px rgba(0,0,0,0.1);
                border-bottom: 2px solid rgba(12, 74, 110, 0.1);
            }
        }
           
           /* --- TITRE ET PHRASE --- */
h1, p {
    position: relative; /* Indispensable pour que le z-index soit pris en compte */
    z-index: 10;        /* M√™me niveau que les planches de bois, donc devant les bulles */
}

/* --- BARRE DE RECHERCHE --- */
/* On cible le conteneur de la barre de recherche */
div[style*="max-width: 800px"] { 
    position: relative;
    z-index: 10;
}

/* --- VAGUES (Optionnel mais conseill√©) --- */
/* On s'assure que les vagues de fond restent bien tout derri√®re */
.ocean {
    z-index: -1;
}


                .btn-bois {
            /* Look Bleu Sobre (Sans image bois) */
            background: #0c4a6e;
            border: 2px solid #b2ebf2; /* Bordure claire pour faire ressortir le bleu */
            border-radius: 50px; /* On garde ton arrondi g√©n√©reux */
            
            /* Texte (Couleurs de ta nouvelle trame) */
            color: #b2ebf2 !important;
            text-align: center;
            text-decoration: none;
            font-family: 'Fredoka One', cursive;
            font-size: 0.85rem;
            font-weight: 900;
            text-shadow: none; /* Plus sobre, sans contour blanc */
            
            /* Structure et Animation (Ancienne trame) */
            padding: 12px 5px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.2s cubic-bezier(0.175, 0.885, 0.32, 1.275); 
            
            /* Ombre port√©e pour l'effet relief (Ancienne trame) */
            box-shadow: 0 4px #062e45, 0 8px 15px rgba(0,0,0,0.1);
            cursor: pointer;
            -webkit-tap-highlight-color: transparent;
        }

        /* Effet d'enfoncement quand on clique (Ancienne trame) */
        .btn-bois:active {
            transform: translateY(4px);
            box-shadow: 0 0px #062e45, 0 4px 10px rgba(0,0,0,0.1);
        }

        /* √âtat actif (Quand on est dans la section) */
        .btn-active {
            background: #b2ebf2 !important;
            color: #0c4a6e !important;
            border-color: #0c4a6e;
            transform: scale(1.05);
            box-shadow: 0 4px #0c4a6e, 0 8px 20px rgba(0,0,0,0.2);
        }
        
            
        .planche-container {
            width: 100%;
            max-width: 700px;
            margin-bottom: 35px;
            background-image: url('planche.bois.jpg'); 
            background-size: cover;
            background-position: center 30%;
            z-index: 10;
            border: 3px solid #0c4a6e;
            border-radius: 40px;
            padding: 15px 30px;
            box-sizing: border-box;
            box-shadow: 0 8px 15px rgba(0,0,0,0.2);
            scroll-margin-top: 160px;
            overflow: visible ;
            position: relative;
        }

        .titre-section {
            font-family: 'Fredoka One', cursive;
            color: #0c4a6e;
            text-align: center;
            font-size: 1.8rem;
            margin-bottom: 10px;
        }
      
        .ligne-produit {
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: 1.3rem;
            color: #0c4a6e;
            margin: 5px 0;
            font-weight: bold;
            padding: 8px 0;
            background: transparent !important; 
        }
        
        .ligne-produit button:active {
    transform: scale(0.9);
    filter: brightness(0.9);
}

        

        .prix {
            background: #0c4a6e;
            color: #b2ebf2;
            padding: 2px 12px;
            border-radius: 8px;
            font-family: 'Fredoka One', cursive;
        }

/* Style global des lignes de produits */
.ligne-produit {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 8px 0;
}

.controls-quantite {
    display: flex;
    align-items: center;
    gap: 10px;
}

/* Style commun √† TOUS les boutons +/- */
.ligne-produit button {
    width: 28px;
    height: 28px;
    border: none;
    border-radius: 5px;
    font-weight: bold;
    cursor: pointer;
    font-size: 1.1rem;
    display: flex;
    align-items: center;
    justify-content: center;
}

/* Bouton MOINS : Rose */
.ligne-produit button:first-of-type {
    background-color: #f8bbd0;
    color: #c2185b;
}

/* Bouton PLUS : Vert */
.ligne-produit button:last-of-type {
    background-color: #b2dfdb;
    color: #00796b;
}

/* Effet au clic */
.ligne-produit button:active {
    transform: scale(0.9);
}




.btn-appel {
    bottom: 25px;
    left: 25px;
    background: #0c4a6e;
    color: #b2ebf2;
    padding: 12px 20px;
    border-radius: 30px;
    text-decoration: none;
    font-family: 'Fredoka One', cursive;
    box-shadow: 0 4px 10px rgba(0,0,0,0.3);
}

/* AJOUTER CETTE CLASSE */
.btn-appel.active {
    opacity: 1;
    visibility: visible;
    transform: translateY(0);
}

.tel-icon {
    text-shadow: 0 0 2px rgba(255, 255, 255, 1), 0 0 2px rgba(255, 255, 255, 0.8);
    filter: drop-shadow(0 0 2px white); /* Renforce l'√©clat */
    margin-right: 5px;
}

.badge-frais {
    position: absolute;
    top: -15px;      /* Valeur n√©gative pour monter au-dessus du bord haut */
    right: -10px;    /* Valeur n√©gative pour sortir par la droite */
    background: #b3e5fc;
    color: #01579b;
    font-size: 1rem;
    padding: 5px 12px;
    border-radius: 50px; /* Plus arrondi pour un look moderne */
    border: 2px solid white;
    font-family: 'Fredoka One', cursive;
    box-shadow: 0 4px 8px rgba(0,0,0,0.1);
    animation: frais-mouvement 2s infinite ease-in-out;
    z-index: 20;
}

@keyframes frais-mouvement {
    0% { transform: scale(1) rotate(0deg); }
    25% { transform: scale(1.1) rotate(-5deg); } /* Incline √† gauche et zoom */
    50% { transform: scale(1.1) rotate(5deg); }  /* Incline √† droite */
    75% { transform: scale(1.1) rotate(-5deg); } /* Re-gauche */
    100% { transform: scale(1) rotate(0deg); }   /* Retour √† la normale */
}

      
.scroll-top {
    bottom: 25px;
    right: 25px;
    width: 55px;
    height: 55px;
    background-color: #0c4a6e;
    color: #b2ebf2;
    text-decoration: none;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 40px;
    font-weight: 900;
    padding-bottom: 8px;
    box-shadow: 0 5px 10px rgba(0,0,0,0.4);
}

        .scroll-top.active {
          opacity: 1; visibility: visible;
            transform: translateY(0);
        }
      
/* --- BOUTONS FLOTTANTS --- */
.btn-appel, .scroll-top {
    position: fixed;
    z-index: 9999;
    /* √âtat cach√© par d√©faut */
    opacity: 0;
    visibility: hidden;
    transform: translateY(20px); /* L√©g√®rement plus bas au d√©part */
    transition: opacity 0.4s ease, transform 0.4s ease, visibility 0.4s, bottom 0.3s ease;
}

.boutons-decales {
    bottom: 85px !important; 
}

footer {
    width: 100%;
    max-width: 800px;
    margin: 20px auto 100px auto;
    padding: 30px 10px;
    border-top: 3px dotted #0c4a6e;
    display: flex;
    flex-direction: row; /* Force l'alignement en ligne d√®s le mobile */
    flex-wrap: wrap;    /* Permet de revenir √† la ligne si c'est vraiment trop √©troit */
    justify-content: space-around;
    align-items: flex-start;
    gap: 15px; 
    color: #0c4a6e;
    text-align: center;
    z-index: 100;
}


/* Sur tablette et ordinateur, on les remet c√¥te √† c√¥te */
@media (min-width: 600px) {
    footer {
        flex-direction: row; /* C√¥te √† c√¥te */
        justify-content: space-around;
        align-items: flex-start;
    }
}

.footer-section { 
    /* On r√©duit la largeur pour qu'elles tiennent √† trois sur une ligne */
    width: 30%; 
    min-width: 100px; 
}

.footer-section h3 { 
    font-family: 'Fredoka One', cursive; 
    font-size: 0.9rem; /* On r√©duit un peu la taille pour le mobile */
    margin-bottom: 8px;
}

.footer-section p {
    font-size: 0.8rem; /* On r√©duit un peu la taille du texte */
    line-height: 1.2;
    margin: 3px 0;
}

.footer-copyright {
    width: 100%; /* Le copyright prend toute la largeur pour rester en dessous */
    font-size: 0.8rem;
    opacity: 0.6;
    margin-top: 20px;
    padding-top: 15px;
    text-align: center;
}

.footer-section img {
    transition: transform 0.2s;
}
.footer-section img:active {
    transform: scale(0.8);
}

.bulle {
    position: fixed;
    bottom: -50px;
    background: rgba(255, 255, 255, 0.4);
    border-radius: 50%;
    box-shadow: inset 0 0 5px rgba(255, 255, 255, 0.8), 0 0 8px rgba(179, 229, 252, 0.4);
    pointer-events: none;
    z-index: 1;
    opacity: 0;
    /* On enl√®ve 'infinite' pour que JS puisse d√©tecter la fin */
    animation: flotter 10s ease-out forwards; 
}

@keyframes flotter {
    0% {
        transform: translateY(0) scale(0.5);
        opacity: 0;
    }
    10% {
        opacity: 0.8;
    }
    90% {
        opacity: 0.8;
    }
    100% {
        transform: translateY(-110vh) scale(1.5);
        opacity: 0;
    }
}


#panier-flottant {
    position: fixed;
    bottom: 0;
    left: 0;
    width: 100%;
    background: #0c4a6e;
    color: white;
    padding: 15px;
    z-index: 10000;
    display: none; /* Cach√© par d√©faut, activ√© par JS */
    justify-content: space-between;
    align-items: center;
    box-shadow: 0 -5px 15px rgba(0,0,0,0.3);
    box-sizing: border-box;
}

.btn-commander {
    background: #0c4a6e;
    color: white;
    border: 1px solid white;
    padding: 8px 15px;
    border-radius: 20px;
    font-family: 'Fredoka One', cursive;
    cursor: pointer;
    margin-left: 10px;
    transition: all 0.3s;
}

.btn-commander:hover {
    background: #00b0ff; /* Devient bleu clair au survol */
    transform: scale(1.05); /* Grossit tr√®s l√©g√®rement */
}


.logo-container {
    width: 100%;
    display: flex;
    justify-content: center;
    margin-top: 30px;
    margin-bottom: 10px;
    position: relative;
    z-index: 10;
}

.logo-site {
    width: 80%;           /* Large sur mobile */
    max-width: 300px;     /* Taille id√©ale sur tablette */
    height: auto;
    filter: drop-shadow(0 4px 8px rgba(0,0,0,0.2));
    animation: flotterLogo 3s infinite ease-in-out;
}



@keyframes flotterLogo {
    0%, 100% { transform: translateY(0); }
    50% { transform: translateY(-10px); }
}

h1 {
    font-family: 'Fredoka One', cursive;
    color: #0c4a6e;
    font-size: 2.4rem;
    white-space: nowrap;       /* Interdit le passage √† la ligne */
    text-shadow: 2px 2px 4px white;
    margin-bottom: 10px; /* <--- AUGMENTE ICI pour √©loigner la phrase du titre */
    text-align: center;
}

.container-map-transparent {
    width: 92%;
    max-width: 700px;
    margin: 40px auto;
    padding: 25px;

    /* 1. Fond blanc semi-transparent */
    background: rgba(255, 255, 255, 0.25) !important;
    
    /* 2. L'effet de flou (vitre d√©polie) */
    backdrop-filter: blur(12px) !important;
    -webkit-backdrop-filter: blur(12px) !important;
    
    border-radius: 40px;
    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
    
    /* Centrage */
    display: flex !important;
    flex-direction: column !important;
    align-items: center !important;
    text-align: center;
    box-sizing: border-box;
    z-index: 10;
    position: relative;
}


/* On force l'alignement des √©l√©ments √† l'int√©rieur */
.carte-info-bulles {
    display: flex;
    flex-direction: column;
    align-items: center;
    width: 100%;
}

.container-map-transparent h2 { 
    font-size: 1.4rem;         /* Taille id√©ale : ni trop grosse, ni trop petite */
    white-space: nowrap;       /* INTERDIT le retour √† la ligne quoi qu'il arrive */
    letter-spacing: -0.5px;    /* Resserre un poil les lettres pour gagner de la place */
    color: #0c4a6e; 
    margin: 0 0 10px 0;
    font-family: 'Fredoka One', cursive;
}

.container-map-transparent p { 
    font-size: 1rem;           /* Un peu plus petit pour laisser la vedette au bouton */
    color: #0c4a6e; 
    line-height: 1.3; 
    margin: 10px 0;
    max-width: 90%;            /* √âvite que le texte ne colle trop aux bords du cadre */
}

.btn-bois-map {
    background-image: url('planche.bois.jpg');
    background-size: cover;
    background-position: center 30% ;
    border: 2px solid #0c4a6e;
    border-radius: 30px;
    color: #0c4a6e !important;
    display: inline-flex;
    align-items: center;
    gap: 10px;
    padding: 15px 30px;
    text-decoration: none;
    font-family: 'Fredoka One', cursive;
    font-size: 1.2rem;
    box-shadow: 0 4px #0c4a6e, 0 8px 15px rgba(0,0,0,0.1);
    transition: all 0.2s ease;
    margin: 15px 0;
}

.btn-bois-map:active {
    transform: translateY(4px);
    box-shadow: 0 0px #0c4a6e, 0 4px 10px rgba(0,0,0,0.1);
}

.icon-boussole {
    font-size: 1.5rem;
    animation: rotation-boussole 3s infinite linear;
}

@keyframes rotation-boussole {
    0% { transform: rotate(0deg); }
    25% { transform: rotate(-15deg); }
    75% { transform: rotate(15deg); }
    100% { transform: rotate(0deg); }
}

.mise-a-jour {
    font-size: 0.8rem !important; /* Plus petit pour ne pas faire d'ombre au bouton */
    opacity: 0.7;                /* Un peu plus discret */
    margin-top: 15px !important;
}


.btn-localisation-header {
    display: inline-flex;
    align-items: center;
    gap: 10px;
    padding: 12px 20px; 
    
    /* Fond transparent givr√© */
    background: rgba(255, 255, 255, 0.2);
    backdrop-filter: blur(8px);
    -webkit-backdrop-filter: blur(8px);
    
    /* Bordure et Texte */
    border: 2px solid #0c4a6e;
    border-radius: 50px;
    color: #0c4a6e !important;
    
    /* Typographie - SOLUTION 1 AJOUT√âE ICI */
    font-family: 'Fredoka One', cursive;
    font-size: 0.9rem;          
    white-space: nowrap;        /* Emp√™che le retour √† la ligne */
    letter-spacing: -0.3px;     /* Resserre un poil les lettres */
    text-decoration: none;
    
    /* Animation et ombre */
    transition: all 0.3s ease;
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.05);
    cursor: pointer;
}

.btn-localisation-header:hover {
    background: rgba(255, 255, 255, 0.4);
    transform: scale(1.05);
    box-shadow: 0 6px 20px rgba(0, 0, 0, 0.1);
}

/* Petit effet de pulsation sur l'ic√¥ne pour attirer l'oeil */
.pulse-icon {
    display: inline-block;
    animation: pulse-red 2s infinite;
}

@keyframes pulse-red {
    0% { transform: scale(1); }
    50% { transform: scale(1.3); }
    100% { transform: scale(1); }
}

.modal-container {
    display: none; /* Cach√© par d√©faut */
    position: fixed;
    top: 0; left: 0; width: 100%; height: 100%;
    background: rgba(0, 0, 0, 0.5); /* Fond sombre */
    backdrop-filter: blur(5px); /* Flou derri√®re la fen√™tre */
    z-index: 1000;
    justify-content: center;
    align-items: center;
}

.modal-content {
    background: white;
    padding: 25px;
    border-radius: 20px;
    width: 90%;
    max-width: 400px;
    text-align: center;
    box-shadow: 0 10px 25px rgba(0,0,0,0.2);
}

.modal-content h3 { color: #0c4a6e; margin-top: 0; }

.modal-content input {
    width: 100%;
    padding: 12px;
    margin: 15px 0;
    border: 2px solid #e0e0e0;
    border-radius: 10px;
    box-sizing: border-box;
    font-size: 1rem;
}

.modal-buttons { display: flex; gap: 10px; }

.btn-valider {
    background: #b2dfdb; color: #00796b; flex: 2;
    border: none; padding: 12px; border-radius: 10px; font-weight: bold; cursor: pointer;
}

.btn-annuler {
    background: #f5f5f5; color: #777; flex: 1;
    border: none; padding: 12px; border-radius: 10px; cursor: pointer;
}

 .btn-supprimer {
    background: #f8bbd0; color: #c2185b; flex: 1;
    border: none; padding: 12px; border-radius: 10px; font-weight: bold; cursor: pointer;
}

/* On s'assure que toutes les modals ont le m√™me comportement */
.modal-container {
    z-index: 10000; /* Toujours au premier plan */
}

        
    </style>
</head>
<body>
    <div class="ocean">
        <div class="vague-calque v1"></div>
        <div class="vague-calque v2"></div>
        <div class="vague-calque v3"></div>
        <div class="vague-calque v4"></div>
    </div>
    
<a href="index.html" class="btn-retour-discret">
   <span class="fleche">‚Üê</span>
   <span class="label">ACCUEIL</span>
</a>
    
<div id="maBanderole" class="banderole-promo">
    <div class="banderole-ruban">
        <div class="defilement">
            <span>üî• PROMO : -10% sur le mat√©riel de p√™che ce week-end ! ‚öì</span>
            <span>üç¶ Glaces √† prix givr√©s pour les moussaillons ! ‚ùÑÔ∏è</span>
            <span>üî• PROMO : -10% sur le mat√©riel de p√™che ce week-end ! ‚öì</span>
        </div>
    </div>
</div>


<div class="logo-container">
    <img src="logo.png" alt="Logo √âpicerie en Mer" class="logo-site">
</div>

<div class="header-titre">
    <h1>√âPICERIE EN MER</h1>
        <p class="slogan">Le bateau qui a tout ce qu'il vous faut !</p>
    <p class="localisation">- De l'√Æle aux oiseaux au Banc d'Arguin -</p>
   <div style="margin: 20px 0;">
    </a>
</div>

</div>
    
        <div style="width: 100%; max-width: 800px; margin-bottom: 15px; padding: 0 10px; box-sizing: border-box;">

    <input type="text" id="searchInput" onkeyup="filterProducts()" placeholder="üîç Rechercher un produit..." 
    style="width: 80%; max-width: 600px; display: block; margin: 0 auto 20px auto; padding: 12px 20px; border-radius: 25px;z-index: 10 ;border: 2px solid #0c4a6e; font-family: 'Patrick Hand', cursive; font-size: 1.1rem; outline: none; box-shadow: 0 4px 10px rgba(0,0,0,0.1);background: rgba(255, 255, 255, 0.3); backdrop-filter: blur(5px); color: #0c4a6e;">

    </div>

    <div class="nav-grid">
        <a href="#boissons" class="btn-bois">BOISSONS</a>
        <a href="#snack" class="btn-bois">SNACK</a>
        <a href="#glace" class="btn-bois">GLACE</a>
        <a href="#vetement" class="btn-bois">V√äTEMENT</a>
        <a href="#divers" class="btn-bois">DIVERS</a>
        <a href="#peche" class="btn-bois">P√äCHE</a>
    </div>
    

<div id="boissons" class="planche-container">
    <h2 class="titre-section">Boissons</h2>
    
    <h3 style="color: #0c4a6e; border-bottom: 1px dashed #0c4a6e; margin-top: 10px;">ü•§ Les Softs</h3>
    <div class="ligne-produit"><span>Soda</span><div class="controls-quantite"><span class="prix">3.00‚Ç¨</span><button onclick="changeQuantite('Soda', 3.00, -1)">-</button><span id="qte-Soda">0</span><button onclick="changeQuantite('Soda', 3.00, 1)">+</button></div></div>
    <div class="ligne-produit"><span>Eau (Plate/Gaz)</span><div class="controls-quantite"><span class="prix">2.00‚Ç¨</span><button onclick="changeQuantite('Eau', 2.00, -1)">-</button><span id="qte-Eau">0</span><button onclick="changeQuantite('Eau', 2.00, 1)">+</button></div></div>
    <div class="ligne-produit"><span>Jus de Fruits</span><div class="controls-quantite"><span class="prix">3.00‚Ç¨</span><button onclick="changeQuantite('Jus', 3.00, -1)">-</button><span id="qte-Jus">0</span><button onclick="changeQuantite('Jus', 3.00, 1)">+</button></div></div>
    <div class="ligne-produit"><span>Limonade</span><div class="controls-quantite"><span class="prix">3.00‚Ç¨</span><button onclick="changeQuantite('Limonade', 3.00, -1)">-</button><span id="qte-Limonade">0</span><button onclick="changeQuantite('Limonade', 3.00, 1)">+</button></div></div>
    <div class="ligne-produit"><span>Caf√©</span><div class="controls-quantite"><span class="prix">2.00‚Ç¨</span><button onclick="changeQuantite('Cafe', 2.00, -1)">-</button><span id="qte-Cafe">0</span><button onclick="changeQuantite('Cafe', 2.00, 1)">+</button></div></div>
    <div class="ligne-produit"><span>Th√©</span><div class="controls-quantite"><span class="prix">2.00‚Ç¨</span><button onclick="changeQuantite('The', 2.00, -1)">-</button><span id="qte-The">0</span><button onclick="changeQuantite('The', 2.00, 1)">+</button></div></div>

    <h3 style="color: #0c4a6e; border-bottom: 1px dashed #0c4a6e; margin-top: 20px;">üçª Les Alcoolis√©s</h3>
    <div class="ligne-produit"><span>Bi√®re Fra√Æche</span><div class="controls-quantite"><span class="prix">4.00‚Ç¨</span><button onclick="changeQuantite('Biere', 4.00, -1)">-</button><span id="qte-Biere">0</span><button onclick="changeQuantite('Biere', 4.00, 1)">+</button></div></div>
    <div class="ligne-produit"><span>Vin Ros√©</span><div class="controls-quantite"><span class="prix">15.00‚Ç¨</span><button onclick="changeQuantite('Vin_Rose', 15.00, -1)">-</button><span id="qte-Vin_Rose">0</span><button onclick="changeQuantite('Vin_Rose', 15.00, 1)">+</button></div></div>
</div>

<div id="snack" class="planche-container">
    <h2 class="titre-section">Snacks</h2>
    <div id="section-matin" style="display: none; background: rgba(224, 247, 250, 0.6); border-radius:15px ; padding: 10px; margin-bottom: 15px;">
        <p style="text-align:center; margin: 0; font-weight:bold; color:#6d4c41; font-size: 0.9rem;">LE COIN BOULANGER 8h-12h</p>
        <div class="ligne-produit"><span>Chocolatine</span><div class="controls-quantite"><span class="prix">1.50‚Ç¨</span><button onclick="changeQuantite('Chocolatine', 1.50, -1)">-</button><span id="qte-Chocolatine">0</span><button onclick="changeQuantite('Chocolatine', 1.50, 1)">+</button></div></div>
        <div class="ligne-produit"><span>Croissant</span><div class="controls-quantite"><span class="prix">1.50‚Ç¨</span><button onclick="changeQuantite('Croissant', 1.50, -1)">-</button><span id="qte-Croissant">0</span><button onclick="changeQuantite('Croissant', 1.50, 1)">+</button></div></div>
    </div>

    <div class="ligne-produit"><span>Cookie Maison üç™</span><div class="controls-quantite"><span class="prix">2.50‚Ç¨</span><button onclick="changeQuantite('Cookie', 2.50, -1)">-</button><span id="qte-Cookie">0</span><button onclick="changeQuantite('Cookie', 2.50, 1)">+</button></div></div>
    <div class="ligne-produit"><span>Barre de C√©r√©ales</span><div class="controls-quantite"><span class="prix">1.50‚Ç¨</span><button onclick="changeQuantite('Barre_Cereale', 1.50, -1)">-</button><span id="qte-Barre_Cereale">0</span><button onclick="changeQuantite('Barre_Cereale', 1.50, 1)">+</button></div></div>
    <div class="ligne-produit"><span>Bonbons</span><div class="controls-quantite"><span class="prix">2.00‚Ç¨</span><button onclick="changeQuantite('Bonbons', 2.00, -1)">-</button><span id="qte-Bonbons">0</span><button onclick="changeQuantite('Bonbons', 2.00, 1)">+</button></div></div>
    <div class="ligne-produit"><span>Paquet de Chips</span><div class="controls-quantite"><span class="prix">2.50‚Ç¨</span><button onclick="changeQuantite('Chips', 2.50, -1)">-</button><span id="qte-Chips">0</span><button onclick="changeQuantite('Chips', 2.50, 1)">+</button></div></div>
    <div class="ligne-produit"><span>Saucisson</span><div class="controls-quantite"><span class="prix">5.00‚Ç¨</span><button onclick="changeQuantite('Saucisson', 5.00, -1)">-</button><span id="qte-Saucisson">0</span><button onclick="changeQuantite('Saucisson', 5.00, 1)">+</button></div></div>
    <div class="ligne-produit"><span>P√¢t√©</span><div class="controls-quantite"><span class="prix">3.50‚Ç¨</span><button onclick="changeQuantite('Pate', 3.50, -1)">-</button><span id="qte-Pate">0</span><button onclick="changeQuantite('Pate', 3.50, 1)">+</button></div></div>
    <div class="ligne-produit"><span>Hu√Ætres (les 6)</span><div class="controls-quantite"><span class="prix">8.00‚Ç¨</span><button onclick="changeQuantite('Huitres_6', 8.00, -1)">-</button><span id="qte-Huitres_6">0</span><button onclick="changeQuantite('Huitres_6', 8.00, 1)">+</button></div></div>
    <div class="ligne-produit"><span>Hu√Ætres (les 12)</span><div class="controls-quantite"><span class="prix">15.00‚Ç¨</span><button onclick="changeQuantite('Huitres_12', 15.00, -1)">-</button><span id="qte-Huitres_12">0</span><button onclick="changeQuantite('Huitres_12', 15.00, 1)">+</button></div></div>
    <div class="ligne-produit"><span>Citron jaune (l'unit√©)</span><div class="controls-quantite"><span class="prix">0.50‚Ç¨</span><button onclick="changeQuantite('Citron', 0.50, -1)">-</button><span id="qte-Citron">0</span><button onclick="changeQuantite('Citron', 0.50, 1)">+</button></div></div>
</div>

<div id="glace" class="planche-container" style="position: relative;">
    <span class="badge-frais">Ultra frais ! ‚ùÑÔ∏è</span>
    <h2 class="titre-section">Glaces</h2>
    <div class="ligne-produit"><span style="font-weight: bold;">SAC DE GLACE (2KG)</span><div class="controls-quantite"><span class="prix">4.00‚Ç¨</span><button onclick="changeQuantite('Glace_Sac', 4.00, -1)">-</button><span id="qte-Glace_Sac">0</span><button onclick="changeQuantite('Glace_Sac', 4.00, 1)">+</button></div></div>
    <div class="ligne-produit"><span>Mister Freeze</span><div class="controls-quantite"><span class="prix">1.00‚Ç¨</span><button onclick="changeQuantite('Mister_Freeze', 1.00, -1)">-</button><span id="qte-Mister_Freeze">0</span><button onclick="changeQuantite('Mister_Freeze', 1.00, 1)">+</button></div></div>
    <div class="ligne-produit"><span>Glace Fus√©e</span><div class="controls-quantite"><span class="prix">2.50‚Ç¨</span><button onclick="changeQuantite('Fusee', 2.50, -1)">-</button><span id="qte-Fusee">0</span><button onclick="changeQuantite('Fusee', 2.50, 1)">+</button></div></div>
</div>

<div id="vetement" class="planche-container">
    <h2 class="titre-section">V√™tements</h2>
    <div class="ligne-produit"><span>T-shirt Marin</span><div class="controls-quantite"><span class="prix">15.00‚Ç¨</span><button onclick="changeQuantite('Tshirt', 15.00, -1)">-</button><span id="qte-Tshirt">0</span><button onclick="changeQuantite('Tshirt', 15.00, 1)">+</button></div></div>
    <div class="ligne-produit"><span>Casquette</span><div class="controls-quantite"><span class="prix">12.00‚Ç¨</span><button onclick="changeQuantite('Casquette', 12.00, -1)">-</button><span id="qte-Casquette">0</span><button onclick="changeQuantite('Casquette', 12.00, 1)">+</button></div></div>
    <div class="ligne-produit"><span>Serviette</span><div class="controls-quantite"><span class="prix">18.00‚Ç¨</span><button onclick="changeQuantite('Serviette', 18.00, -1)">-</button><span id="qte-Serviette">0</span><button onclick="changeQuantite('Serviette', 18.00, 1)">+</button></div></div>
    <div class="ligne-produit"><span>Chaussons d'eau</span><div class="controls-quantite"><span class="prix">10.00‚Ç¨</span><button onclick="changeQuantite('Chaussons', 10.00, -1)">-</button><span id="qte-Chaussons">0</span><button onclick="changeQuantite('Chaussons', 10.00, 1)">+</button></div></div>
</div>

<div id="divers" class="planche-container">
    <h2 class="titre-section">Divers</h2>
    
    <div class="ligne-produit">
        <span>Parasol</span>
        <div class="controls-quantite">
            <span class="prix">20.00‚Ç¨</span>
            <button onclick="changeQuantite('Parasol', 20.00, -1)">-</button>
            <span id="qte-Parasol">0</span>
            <button onclick="changeQuantite('Parasol', 20.00, 1)">+</button>
        </div>
    </div>

    <div class="ligne-produit">
        <span>Cr√®me Solaire</span>
        <div class="controls-quantite">
            <span class="prix">9.00‚Ç¨</span>
            <button onclick="changeQuantite('Creme_Solaire', 9.00, -1)">-</button>
            <span id="qte-Creme_Solaire">0</span>
            <button onclick="changeQuantite('Creme_Solaire', 9.00, 1)">+</button>
        </div>
    </div>

    <div class="ligne-produit">
        <span>Jeux de cartes</span>
        <div class="controls-quantite">
            <span class="prix">5.00‚Ç¨</span>
            <button onclick="changeQuantite('Cartes', 5.00, -1)">-</button>
            <span id="qte-Cartes">0</span>
            <button onclick="changeQuantite('Cartes', 5.00, 1)">+</button>
        </div>
    </div>

    <div class="ligne-produit">
        <span>Couteau √† hu√Ætres</span>
        <div class="controls-quantite">
            <span class="prix">7.00‚Ç¨</span>
            <button onclick="changeQuantite('Couteau_Huitre', 7.00, -1)">-</button>
            <span id="qte-Couteau_Huitre">0</span>
            <button onclick="changeQuantite('Couteau_Huitre', 7.00, 1)">+</button>
        </div>
    </div>

    <div class="ligne-produit">
        <span>Limonadier</span>
        <div class="controls-quantite">
            <span class="prix">6.00‚Ç¨</span>
            <button onclick="changeQuantite('Limonadier', 6.00, -1)">-</button>
            <span id="qte-Limonadier">0</span>
            <button onclick="changeQuantite('Limonadier', 6.00, 1)">+</button>
        </div>
    </div>

    <div class="ligne-produit">
        <span>Gobelet R√©utilisable</span>
        <div class="controls-quantite">
            <span class="prix">1.00‚Ç¨</span>
            <button onclick="changeQuantite('Gobelet', 1.00, -1)">-</button>
            <span id="qte-Gobelet">0</span>
            <button onclick="changeQuantite('Gobelet', 1.00, 1)">+</button>
        </div>
    </div>

    <div class="ligne-produit">
        <span>Pochette de t√©l√©phone √©tanche</span>
        <div class="controls-quantite">
            <span class="prix">10.00‚Ç¨</span>
            <button onclick="changeQuantite('Pochette_Tel', 10.00, -1)">-</button>
            <span id="qte-Pochette_Tel">0</span>
            <button onclick="changeQuantite('Pochette_Tel', 10.00, 1)">+</button>
        </div>
    </div>
</div>


<div id="peche" class="planche-container">
    <h2 class="titre-section">P√™che</h2>
    <div class="ligne-produit"><span>Plombs</span><div class="controls-quantite"><span class="prix">2.00‚Ç¨</span><button onclick="changeQuantite('Plombs', 2.00, -1)">-</button><span id="qte-Plombs">0</span><button onclick="changeQuantite('Plombs', 2.00, 1)">+</button></div></div>
    <div class="ligne-produit"><span>Hame√ßons (pochette)</span><div class="controls-quantite"><span class="prix">3.00‚Ç¨</span><button onclick="changeQuantite('Hamecons', 3.00, -1)">-</button><span id="qte-Hamecons">0</span><button onclick="changeQuantite('Hamecons', 3.00, 1)">+</button></div></div>
    <div class="ligne-produit"><span>Fil de p√™che</span><div class="controls-quantite"><span class="prix">4.50‚Ç¨</span><button onclick="changeQuantite('Fil', 4.50, -1)">-</button><span id="qte-Fil">0</span><button onclick="changeQuantite('Fil', 4.50, 1)">+</button></div></div>
    <div class="ligne-produit"><span>Turluttes (Seiche)</span><div class="controls-quantite"><span class="prix">6.00‚Ç¨</span><button onclick="changeQuantite('Turluttes', 6.00, -1)">-</button><span id="qte-Turluttes">0</span><button onclick="changeQuantite('Turluttes', 6.00, 1)">+</button></div></div>
</div>



<div id="panier-flottant" class="panier-actif">   
    <div style="font-size: 1.2rem; display:flex; align-items:center; gap:10px; flex:1;">
        <span style="white-space:nowrap; font-family:'Fredoka One'; background:rgba(255,255,255,0.1); padding:4px 8px; border-radius:8px;">
            Total: <span id="total-prix">0.00</span>‚Ç¨
        </span>
        <button onclick="demanderViderPanier()" title="Vider le panier" style="background:none; border:none; font-size:1.2rem; cursor:pointer; padding:5px;">üóëÔ∏è</button>
    </div>
   <button onclick="envoyerWhatsApp()" class="btn-commander">Commander ‚öì</button>
</div>

<div id="modal-delete" class="modal-container">
    <div class="modal-content">
        <h3 style="color: #c2185b;">üóëÔ∏è Vider le panier ?</h3>
        <p>√ätes-vous s√ªr de vouloir supprimer tous les articles de votre panier ?</p>
        <div class="modal-buttons">
            <button onclick="viderPanier()" class="btn-supprimer">Oui, vider</button>
            <button onclick="fermerModalDelete()" class="btn-annuler">Annuler</button>
        </div>
    </div>
</div>



<div class="container-map-transparent" id="localisation">
    <div class="carte-info-bulles">
        <h2 class="titre-section">üìç Position du Capitaine</h2>
        <p>Cliquez sur la boussole pour nous situer en direct sur Google Maps et venir nous aborder !</p>
        
        <a href="index.html?action=gps" class="btn-bois-map">
            <span class="icon-boussole">üß≠</span> VOIR SUR MAPS
        </a>

        <p class="mise-a-jour">Lien actif en temps r√©el ‚öì</p>
    </div>
</div>
     
     
<footer>
    <div class="footer-section">
        <h3>üïí HORAIRES</h3>
        <p>Tous les jours<br>08h00 - 19h00</p>
    </div>
    <div class="footer-section">
        <h3>üìû CONTACT</h3>
        <p>T√©l : 06 59 82 17 71</p>
        <p>VHF : Canal 72</p>
        
        <div style="margin-top: 15px; display: flex; justify-content: center; gap: 15px;">
            <a href="https://www.facebook.com/share/1aiQHVDqWq/" target="_blank" onclick="cronitor('track', 'Clic_Facebook')" style="display: inline-block;">
                <img src="https://cdn-icons-png.flaticon.com/512/733/733547.png" width="25" alt="Facebook">
            </a>

            <a href="https://www.instagram.com/epicerieenmer?igsh=NXNwOGV6dzhoZTU2" target="_blank" onclick="cronitor('track', 'Clic_Instagram')" style="display: inline-block;">
                <img src="https://cdn-icons-png.flaticon.com/512/2111/2111463.png" width="25" alt="Instagram">
            </a>
        </div>
    </div>

    <div class="footer-section">
        <h3>üìç ACC√àS</h3>
        <p>En plaisance<br>Au mouillage</p>
    </div>

        <div class="footer-copyright" style="width: 100%; margin-top: 10px; text-align: center;">
            <p style="margin: 0; font-size: 0.7rem; opacity: 0.8; letter-spacing: 0.5px;">
            <span> üåä Design et Cr√©ation par Arthur GAY <span style="display:inline-block; transform: scaleX(-1);">üåä</span></span>
            </p>
        <p style="margin: 5px 0 0 0; font-size: 0.7rem; opacity: 0.5;">
            &copy; 2026 √âPICERIE EN MER
        </p>
    </div>

</footer>

<a href="tel:0659821771" class="btn-appel" onclick="cronitor('track', 'Appel_Direct')"><span class="tel-icon">üìû</span> Demande d'info</a>

<a href="#" id="scrollTop" class="scroll-top">‚Üë</a>

<div id="modal-bateau" class="modal-container">
    <div class="modal-content">
        <h3>üõ•Ô∏è Nom de votre bateau</h3>
        <p>Pour que nous puissions pr√©parer votre commande, merci d'indiquer son nom :</p>
        <input type="text" id="input-nom-bateau" placeholder="Ex: L'Oiseau Bleu..." onkeypress="if(event.key === 'Enter') finaliserCommande()">
        <div class="modal-buttons">
       <button onclick="finaliserCommande()" class="btn-valider">Valider la commande</button>  <button onclick="fermerModal()" class="btn-annuler">Annuler</button>
        </div>
    </div>
</div>

    <script>
 
 // AIDE M√âMOIRE : Pour afficher le coin boulanger en journ√©e (TEST), mettre 'block' √† la place de la condition horaire. Pour le mode AUTO, laisser : (heure >= 6 && heure < 11) ? 'block' : 'none';
function gererViennoiseries() {
    const heure = new Date().getHours();
    const sectionMatin = document.getElementById('section-matin');
    if (sectionMatin) {
        // Affiche entre 8h et 12h, cache le reste du temps
        sectionMatin.style.display = (heure >= 8 && heure < 12) ? 'block' : 'none';
    }
}

// Appelez-la dans window.onload
window.onload = function() {
    updateHeight();
    synchroniserGPS();
    gererViennoiseries(); // <--- ICI
};

      
      // --- VARIABLES GLOBALES ---
let panier = {};
let total = 0;

// --- INITIALISATION AU CHARGEMENT ---
window.onload = function() {
    chargerPanierSauvegarde(); // On r√©cup√®re l'ancien panier s'il existe
    
    // Initialisation des bulles
    setInterval(creerBulle, 600); 
    for (let i = 0; i < 10; i++) {
        creerBulle();
    }
};

// --- GESTION DU PANIER ---

// Charger les donn√©es depuis le navigateur
function chargerPanierSauvegarde() {
    const sauvegarde = localStorage.getItem('monPanierEpicerie');
    if (sauvegarde) {
        panier = JSON.parse(sauvegarde);
        // On met √† jour l'affichage des chiffres sur les planches
        for (let produit in panier) {
            let el = document.getElementById(`qte-${produit}`);
            if (el) {
                el.innerText = panier[produit].qte;
            }
        }
        calculerTotal();
    }
}

// Ajouter ou retirer un produit
function changeQuantite(nom, prix, delta) {
    if (!panier[nom]) panier[nom] = { qte: 0, prix: prix };
    
    panier[nom].qte += delta;
    
    // S√©curit√© : pas de quantit√© n√©gative
    if (panier[nom].qte < 0) panier[nom].qte = 0;

    // Mise √† jour visuelle du chiffre sur la planche
    let el = document.getElementById(`qte-${nom}`);
    if (el) {
        el.innerText = panier[nom].qte;
        // Petit effet de flash visuel
        el.classList.remove('flash'); 
        void el.offsetWidth; 
        el.classList.add('flash');
    }
    
    // Sauvegarde imm√©diate
    localStorage.setItem('monPanierEpicerie', JSON.stringify(panier));
    calculerTotal();
}

// Calculer le prix total et afficher/cacher la barre de commande
function calculerTotal() {
    total = 0;
    for (let item in panier) {
        total += panier[item].qte * panier[item].prix;
    }
    
    // Mise √† jour de l'affichage du total
    const totalPrixEl = document.getElementById('total-prix');
    if (totalPrixEl) totalPrixEl.innerText = total.toFixed(2);
    
    const panierDiv = document.getElementById('panier-flottant');
    const btnAppel = document.querySelector('.btn-appel');
    const btnTop = document.getElementById('scrollTop');

    if (total > 0) {
        panierDiv.style.display = 'flex';
        // D√©cale les boutons vers le haut pour ne pas g√™ner
        if(btnAppel) btnAppel.classList.add('boutons-decales');
        if(btnTop) btnTop.classList.add('boutons-decales');
    } else {
        panierDiv.style.display = 'none';
        // Remet les boutons √† leur place
        if(btnAppel) btnAppel.classList.remove('boutons-decales');
        if(btnTop) btnTop.classList.remove('boutons-decales');
    }
}

// 1. D√©clenche l'ouverture de la pop-up de confirmation
function demanderViderPanier() {
    document.getElementById('modal-delete').style.display = 'flex';
}

// 2. Ex√©cute le vidage r√©el du panier (appel√© par le bouton "Oui" de la pop-up)
function viderPanier() {
    panier = {};
    
    // Remise √† z√©ro visuelle de tous les compteurs
    const compteurs = document.querySelectorAll('[id^="qte-"]');
    compteurs.forEach(span => {
        span.innerText = "0";
    });

    localStorage.removeItem('monPanierEpicerie');
    calculerTotal();
    
    // On ferme la modale si elle √©tait ouverte
    fermerModalDelete();
}

// 3. Ferme la pop-up de suppression
function fermerModalDelete() {
    document.getElementById('modal-delete').style.display = 'none';
}

function envoyerWhatsApp() {
    let empty = true;
    for (let i in panier) {
        if (panier[i].qte > 0) {
            empty = false;
            break;
        }
    }
    
    if (empty) {
        alert("Votre panier est vide ! üõí");
        return;
    }

    document.getElementById('modal-bateau').style.display = 'flex';
    
    setTimeout(() => {
        document.getElementById('input-nom-bateau').focus();
    }, 100);
}

function finaliserCommande() {
    let nomBateau = document.getElementById('input-nom-bateau').value;

    if (nomBateau.trim() === "") {
        alert("Nous avons besoin du nom du bateau pour la commande ! ‚õµ");
        return;
    }

    // 1. Construction du message
    let m = "Bonjour l'√âpicerie en Mer ! ‚öì Voici ma commande :%0A%0A";
    
    for (let i in panier) {
        if (panier[i].qte > 0) {
            let nomPropre = i.replace(/_/g, ' '); 
            nomPropre = nomPropre.charAt(0).toUpperCase() + nomPropre.slice(1);
            m += `${panier[i].qte}x ${nomPropre}%0A`;
        }
    }
    
    m += `%0A *TOTAL : ${total.toFixed(2)}‚Ç¨*%0A`;
    m += ` LIVRAISON : ${nomBateau.toUpperCase()}`;
    
    // 2. Ouverture de WhatsApp (Le vrai lien)
    window.open(`https://wa.me/33659821771?text=${m}`, '_blank');

    // 3. Fermer la fen√™tre du nom
    document.getElementById('modal-bateau').style.display = 'none';
    
    // 4. Ouvrir la fen√™tre de demande de vidage du panier
    setTimeout(() => {
        demanderViderPanier();
    }, 1200);
}


function fermerModal() {
    document.getElementById('modal-bateau').style.display = 'none';
    document.getElementById('input-nom-bateau').value = "";
}


// --- GESTION DE L'APPARITION DES BOUTONS (FONDU) ---
const btnRemonter = document.getElementById("scrollTop");
const btnAppel = document.querySelector(".btn-appel");

window.addEventListener('scroll', function() {
    if (window.scrollY > 300) {
        btnRemonter.classList.add("active");
        btnAppel.classList.add("active");
    } else {
        btnRemonter.classList.remove("active");
        btnAppel.classList.remove("active");
    }
});

// Filtre de recherche
function filterProducts() {
    let input = document.getElementById('searchInput').value.toLowerCase();
    let sections = document.getElementsByClassName('planche-container');
    
    for (let i = 0; i < sections.length; i++) {
        let items = sections[i].getElementsByClassName('ligne-produit');
        let sectionHasMatch = false;
        
        for (let j = 0; j < items.length; j++) {
            let productName = items[j].getElementsByTagName('span')[0].innerText.toLowerCase();
            if (productName.includes(input)) {
                items[j].style.display = "flex";
                sectionHasMatch = true;
            } else {
                items[j].style.display = "none";
            }
        }
        sections[i].style.display = sectionHasMatch ? "block" : "none";
    }
}

// Effet de menu actif au scroll (ScrollSpy)
const observerOptions = {
    root: null,
    rootMargin: '-25% 0px -70% 0px', 
    threshold: 0
};

const observer = new IntersectionObserver((entries) => {
    entries.forEach(entry => {
        if (entry.isIntersecting) {
            const id = entry.target.getAttribute('id');
            document.querySelectorAll('.btn-bois').forEach(btn => {
                btn.classList.remove('btn-active');
            });
            const activeBtn = document.querySelector(`.btn-bois[href="#${id}"]`);
            if (activeBtn) activeBtn.classList.add('btn-active');
        }
    });
}, observerOptions);

document.querySelectorAll('.planche-container').forEach(section => {
    observer.observe(section);
});

function creerBulle() {
    const bulle = document.createElement('div');
    bulle.classList.add('bulle');
    document.body.appendChild(bulle);

    const taille = Math.random() * 20 + 5; 
    const duree = Math.random() * 10 + 5; // On stocke la dur√©e
    const delai = Math.random() * 5;      // On stocke le d√©lai

    bulle.style.width = `${taille}px`;
    bulle.style.height = `${taille}px`;
    bulle.style.left = `${Math.random() * 100}vw`; 
    bulle.style.animationDuration = `${duree}s`; 
    bulle.style.animationDelay = `${delai}s`; 

    // S√©curit√© : Supprime la bulle apr√®s la fin de son animation (dur√©e + d√©lai)
    // On multiplie par 1000 pour convertir les secondes en millisecondes
    setTimeout(() => {
        bulle.remove();
    }, (duree + delai + 1) * 1000);
}

    </script>

</body>
</html>

